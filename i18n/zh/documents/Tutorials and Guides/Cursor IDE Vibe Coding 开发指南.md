# Cursor IDE Vibe Coding 开发指南

专门针对 **Cursor IDE** 的 Vibe Coding 配置与使用手册，覆盖新项目初始化和老项目接入两种场景。

---

## 一、Cursor 配置文件说明

Cursor 有三个层级的规则注入点：

| 位置 | 作用域 | 说明 |
|------|--------|------|
| `Settings → Rules for AI` | 全局 | 所有项目通用规则，适合放个人偏好 |
| 项目根目录 `.cursorrules` | 项目级 | Cursor 专用规则文件，打开项目自动生效 |
| 项目根目录 `CLAUDE.md` / `AGENTS.md` | 项目级 | 通用上下文文档，Cursor 及其他 AI 工具都可读取 |

> **推荐策略**：系统提示词放 `.cursorrules`，项目上下文/架构说明放 `CLAUDE.md`。

---

## 二、仓库资源速查表

| 用途 | 仓库路径 | 备注 |
|------|----------|------|
| 系统提示词（推荐） | `i18n/zh/prompts/system_prompts/CLAUDE.md/10/CLAUDE.md` | v10 版本，综合规范 |
| 系统提示词（备选） | `i18n/zh/prompts/system_prompts/CLAUDE.md/8/CLAUDE.md` | v8 版本，较简洁 |
| 项目上下文生成 | `i18n/zh/prompts/coding_prompts/项目上下文文档生成.md` | 生成/更新上下文 |
| 需求拆解 | `i18n/zh/prompts/coding_prompts/智能需求理解与研发导航引擎.md` | 模糊需求→可执行方向 |
| 标准化流程 | `i18n/zh/prompts/coding_prompts/标准化流程.md` | 任务固化成步骤 |
| 项目架构模板 | `i18n/zh/documents/Templates and Resources/通用项目架构模板.md` | 目录结构参考 |
| 开发经验 | `i18n/zh/documents/Methodology and Principles/开发经验.md` | 编码规范与原则 |
| 代码组织 | `i18n/zh/documents/Templates and Resources/代码组织.md` | 命名/注释/格式 |

---

## 三、新项目初始化（5 步到位）

### 步骤 1：创建项目骨架

```
your-project/
├── .cursorrules          # ← 放系统提示词（必须）
├── CLAUDE.md             # ← 放项目上下文/架构说明（必须）
├── progress.md           # ← 记录已完成里程碑（推荐）
├── docs/                 # 需求/设计文档
│   ├── prd.md            # 产品需求
│   └── tech-stack.md     # 技术栈
├── src/                  # 源代码
└── tests/                # 测试
```

### 步骤 2：复制系统提示词到 `.cursorrules`

```bash
# 在项目根目录执行（根据仓库实际路径调整）
cp path/to/vibe-coding-cn/i18n/zh/prompts/system_prompts/CLAUDE.md/10/CLAUDE.md .cursorrules
```

> 也可手动复制 `CLAUDE.md/10/CLAUDE.md` 的全部内容到 `.cursorrules` 文件。

### 步骤 3：创建并填充 `CLAUDE.md`

在项目根目录创建 `CLAUDE.md`，内容结构：

```markdown
# 项目上下文

## 项目概要
- 项目名称：xxx
- 目标：xxx
- 非目标/约束：xxx

## 技术栈
- 语言：Python 3.11
- 框架：FastAPI
- 数据库：PostgreSQL
- ...

## 目录结构
```text
src/
├── api/          # API 接口层
├── core/         # 核心业务逻辑
├── models/       # 数据模型
└── utils/        # 工具函数
```

## 关键文件职责
- `src/main.py`：程序入口
- `src/config.py`：配置管理
- ...

## 当前进度
- [x] 初始化项目结构
- [ ] 实现用户认证模块
- ...

## 开发约定
- 写代码前必须阅读本文件
- 变更架构后必须更新本文件
- 每完成一个模块更新 progress.md
```

> 如果上下文信息不完整，可使用 `项目上下文文档生成.md` 提示词让 AI 帮你生成初版。

### 步骤 4：创建 `progress.md`

```markdown
# 开发进度记录

## 里程碑

### 2024-01-01 项目初始化
- 创建项目骨架
- 配置开发环境
- 完成 .cursorrules 和 CLAUDE.md

### 2024-01-02 用户模块
- 完成用户注册/登录 API
- 测试通过：test_user.py
```

### 步骤 5：在 Cursor 中验证配置

1. 用 Cursor 打开项目目录
2. 打开 Chat（`Cmd/Ctrl + L`）
3. 输入测试提示词：

```
阅读 CLAUDE.md 和项目结构，总结你对本项目的理解
```

如果 AI 能正确复述项目信息，说明配置成功。

---

## 四、老项目接入（4 步改造）

### 步骤 1：盘点现状

- 列出现有文档（README、架构图等）
- 梳理核心目录和关键文件
- 明确哪些模块暂不改动（非目标范围）

### 步骤 2：创建 `.cursorrules`

```bash
# 复制系统提示词
cp path/to/vibe-coding-cn/i18n/zh/prompts/system_prompts/CLAUDE.md/10/CLAUDE.md .cursorrules
```

### 步骤 3：创建 `CLAUDE.md`

可以让 AI 帮你生成：

1. 打开 Cursor Chat
2. 使用以下提示词（来自 `项目上下文文档生成.md`）：

```
请阅读当前项目的目录结构和主要文件，然后生成一份完整的项目上下文文档（CLAUDE.md），包含：
- 项目概要（名称、目标、约束）
- 技术栈
- 目录结构与关键文件职责
- 当前进度
- 开发约定

对于无法确定的信息，标注为"暂无信息"
```

3. 将生成的内容保存为 `CLAUDE.md`
4. 人工审核补充缺失信息

### 步骤 4：创建 `progress.md` 并记录现状

```markdown
# 开发进度记录

## 项目现状（接入日期：2024-01-01）
- 已有模块：用户系统、订单系统、支付系统
- 本次改造目标：xxx
- 暂不涉及：xxx

## 后续里程碑
- [ ] 任务 1
- [ ] 任务 2
```

---

## 五、使用方法（日常开发流程）

### 5.1 开启新任务

```
阅读 CLAUDE.md 和 progress.md，我接下来要做：[描述任务]

请先给出计划，不要直接写代码
```

### 5.2 需求不清晰时

使用 `智能需求理解与研发导航引擎.md` 的提示词：

```
[粘贴该提示词内容]

你需要处理的是：[你的模糊需求描述]
```

### 5.3 拆分任务步骤

使用 `标准化流程.md` 的提示词：

```
你是一名专业的流程标准化专家。
将以下需求转化为可执行的分步流程：

[你的需求描述]
```

### 5.4 完成任务后

```
任务已完成，请：
1. 总结本次改动
2. 更新 CLAUDE.md 中受影响的部分
3. 生成 progress.md 的更新内容
```

### 5.5 Debug 时

```
遇到问题：
- 预期行为：xxx
- 实际行为：xxx
- 最小复现步骤：xxx
- 相关代码位置：xxx

请分析原因并给出修复方案
```

### 5.6 切换新会话

当对话过长或上下文混乱时：

1. 开启新 Chat（`Cmd/Ctrl + L` → New Chat）
2. 输入：

```
阅读 CLAUDE.md 和 progress.md，了解项目现状。
上次进度已记录在 progress.md，请从 [指定任务] 继续
```

---

## 六、Cursor 快捷键速查

| 功能 | 快捷键 |
|------|--------|
| 打开 Chat | `Cmd/Ctrl + L` |
| 打开 Composer（多文件编辑） | `Cmd/Ctrl + I` |
| 选中代码后提问 | 选中 → `Cmd/Ctrl + L` |
| 接受 AI 建议 | `Tab` |
| 拒绝 AI 建议 | `Esc` |
| 切换 Agent 模式 | Chat 中点击模式切换 |

---

## 七、配置检查清单

### 新项目
- [ ] `.cursorrules` 已创建，包含系统提示词
- [ ] `CLAUDE.md` 已创建，包含项目上下文
- [ ] `progress.md` 已创建
- [ ] 目录结构符合规范
- [ ] Cursor 能正确读取项目信息

### 老项目
- [ ] `.cursorrules` 已添加
- [ ] `CLAUDE.md` 已生成并人工审核
- [ ] `progress.md` 已创建，记录现状与目标
- [ ] 明确了改造范围与非目标
- [ ] Cursor 能正确理解项目现状

---

## 八、常见问题

### Q1：`.cursorrules` 和 `CLAUDE.md` 有什么区别？

- `.cursorrules`：Cursor 专用，放 AI 行为规范和系统提示词
- `CLAUDE.md`：通用上下文文档，放项目信息、架构、进度

### Q2：系统提示词选哪个版本？

- **v10**：功能最全，适合正式项目
- **v8**：较简洁，适合快速原型

### Q3：AI 不遵守规则怎么办？

1. 检查 `.cursorrules` 是否在项目根目录
2. 在提示词开头强调"请先阅读 .cursorrules 和 CLAUDE.md"
3. 切换新会话重新注入上下文

### Q4：项目太大 AI 读不完怎么办？

1. `CLAUDE.md` 只写核心模块的一句话职责，不要全量代码
2. 用 `@file` 语法指定 AI 阅读特定文件
3. 按模块拆分任务，每次只让 AI 关注一个模块

---

## 九、推荐工作流

```
┌─────────────────────────────────────────────────────────────┐
│                    项目初始化                                │
│  复制 .cursorrules → 创建 CLAUDE.md → 创建 progress.md      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                    开始任务                                  │
│  阅读上下文 → 澄清需求 → 拆分步骤 → 确认计划                 │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                    执行开发                                  │
│  小步实现 → 验证测试 → 更新进度 → 提交 Git                   │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                    完成任务                                  │
│  更新 CLAUDE.md → 更新 progress.md → 切换新会话继续          │
└─────────────────────────────────────────────────────────────┘
```

---

**版本**: 1.0  
**更新日期**: 2024-12-21  
**适用**: Cursor IDE + Vibe Coding 仓库

